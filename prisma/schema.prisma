generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model account {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  code      Int
  name      String @db.VarChar(50)
  address   String @db.VarChar(50)
  areacd    Int
  active    String @default("Y") @db.VarChar(1)
}

model area {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  areacd    Int
  name      String @db.VarChar(50)
  seccd     Int
}

model company {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  cmpcd     String @db.VarChar(2)
  name      String @db.VarChar(50)
}

model distributor {
  ID        Int    @id @default(autoincrement())
  dist_code Int    @unique(map: "dist_code")
  name      String @db.VarChar(50)
  bonus     Int    @default(1)
}

model email_pdf {
  id            Float  @id
  dist_code     Int
  reporttype    String @default("SSR") @db.VarChar(10)
  emailaddress  String @db.Text
  cmpcd         String @db.VarChar(2)
  grcd          String @db.VarChar(100)
  created_by_id Int
  updated_by_id Int
  created_on    Int
  updated_on    Int
}

model log_histories {
  log_id        Int      @id @default(autoincrement())
  table_name    String   @db.VarChar(100)
  table_value   Int
  created_by_id Int
  created_on    DateTime @default(now()) @db.DateTime(0)
}

model product {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  pcode     String @db.VarChar(8)
  cmpcd     String @db.VarChar(2)
  name      String @db.VarChar(50)
  tp        Float
  rp        Float
  balance   Int
  grcd      String @db.VarChar(1)
  active    String @default("Y") @db.VarChar(1)
}

model sector {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  seccd     Int
  name      String @db.VarChar(50)
}

model so_detail {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  socd      Int
  cmpcd     String @db.VarChar(2)
  grcd      String @db.VarChar(1)
  areacd    Int
}

model so_master {
  ID        Int    @id @default(autoincrement())
  dist_code Int
  socd      Int
  soname    String @db.VarChar(50)
  cmpcd     String @db.VarChar(2)
  grcd      String @db.VarChar(1)
}

model transaction {
  ID        Int      @id @default(autoincrement())
  dist_code Int
  code      Int      @default(0)
  areacd    Int      @default(0)
  seccd     Int      @default(0)
  srno      Int
  invno     Int
  invdt     DateTime @db.Date
  sno       Int
  pcode     String   @db.VarChar(6)
  rate      Float
  qty       Int
  bonus     Int
  dip1      Float
  dip2      Float
  stax      Float
  itax      Float
  type      Int
  sessionID Int

  @@index([areacd], map: "AREACD")
  @@index([code], map: "CODE")
  @@index([invdt], map: "INVDT")
  @@index([seccd], map: "SECCD")
  @@index([type], map: "TYPE")
  @@index([pcode], map: "pcode")
}

model user {
  user_id     Int    @id @default(autoincrement())
  role_id     Int
  dist_code   Int
  username    String @unique(map: "username") @db.VarChar(50)
  description String @db.VarChar(50)
  mobile      String @db.VarChar(20)
  email       String @db.VarChar(50)
  password    String @db.VarChar(50)
  active      Int    @default(0)

  @@index([email], map: "email")
}

model user_company {
  id        Int    @id @default(autoincrement())
  user_id   Int
  dist_code Int
  cmpcd     String @db.VarChar(2)
}

model user_company_group {
  ID        Int    @id @default(autoincrement())
  user_id   Int
  dist_code Int
  cmpcd     String @db.VarChar(2)
  grcd      String @db.VarChar(1)
}

model user_role {
  role_id Int    @id @default(autoincrement())
  role    String @db.VarChar(50)
}
